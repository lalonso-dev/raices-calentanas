const y=function(n="",e=null){if(!n||!e)return;const t=atob(n);pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";const l="800px",h=2,s="RAÍCES CALENTANAS",u=new Map,m=(o,a,d)=>{o.save(),o.globalAlpha=.08,o.translate(a/2,d/2),o.rotate(-Math.PI/6),o.textAlign="center",o.textBaseline="middle",o.font="bold 36px sans-serif",o.fillText(s,0,0),o.restore()},D=o=>{const a=o.getViewport({scale:1}),f=(e.clientWidth||800)/a.width,i=Math.min(window.devicePixelRatio||1,h);return f*i},w=async(o,a,d=!1)=>{const f=document.querySelector(`[data-pdf-page="${a}"]`);if(!f)return;const i=u.get(a)||{rendered:!1,scale:1};if(i.rendered&&!d)return;const c=await o.getPage(a),g=D(c);if(!d&&i.rendered&&Math.abs(i.scale-g)<.05)return;f.innerHTML="";const p=c.getViewport({scale:g}),r=document.createElement("canvas"),b=r.getContext("2d",{alpha:!1});r.width=Math.floor(p.width),r.height=Math.floor(p.height),r.style.width=r.width/(window.devicePixelRatio||1)+"px",r.style.height="auto",r.style.display="block",r.style.margin="0 auto 16px",f.appendChild(r),await c.render({canvasContext:b,viewport:p}).promise,m(b,r.width,r.height),u.set(a,{rendered:!0,scale:g})},k=o=>{const a=document.createElement("div");return a.dataset.pdfPage=o,a.setAttribute("role","img"),a.setAttribute("aria-label","Página "+o),a.style.minHeight="120px",a.style.marginBottom="16px",a},v=o=>{const a=new IntersectionObserver(i=>{i.forEach(c=>{if(c.isIntersecting){const g=parseInt(c.target.dataset.pdfPage,10);w(o,g)}})},{root:null,rootMargin:l,threshold:.01});document.querySelectorAll("[data-pdf-page]").forEach(i=>a.observe(i));let d;const f=()=>{cancelAnimationFrame(d),d=requestAnimationFrame(()=>{document.querySelectorAll("[data-pdf-page]").forEach(async i=>{const c=i.getBoundingClientRect();if(c.bottom>0&&c.top<(window.innerHeight||document.documentElement.clientHeight)){const p=parseInt(i.dataset.pdfPage,10);w(o,p,!0)}})})};window.addEventListener("resize",f)};pdfjsLib.getDocument(t).promise.then(async o=>{for(let a=1;a<=o.numPages;a++)e.appendChild(k(a)),u.set(a,{rendered:!1,scale:1});v(o)})},E=function(n,e,{days:t=365,path:l="/",sameSite:h="Lax",secure:s=!1}={}){let u=`${n}=${encodeURIComponent(e)}; Path=${l}; SameSite=${h}`;if(s&&(u+="; Secure"),t){const m=new Date;m.setTime(m.getTime()+t*24*60*60*1e3),u+=`; Expires=${m.toUTCString()}`}document.cookie=u},W=function(n){const e=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([$?*|{}\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},C="rc_dllimit";function I(){try{const n=W(C);return n?JSON.parse(atob(n)):{t:[],b:0}}catch{return{t:[],b:0}}}const S=function(n){const e=Date.now();n.t=(n.t||[]).filter(t=>e-t<=12e5),E(C,btoa(JSON.stringify(n)),{days:365,path:"/",sameSite:"Lax",secure:location.protocol==="https:"})},_=function(n){const e=Math.ceil(n/6e4);return e<=1?"≈1 minuto":`≈${e} minutos`},M=function(n=!1){const e=Date.now(),t=I();return t.b&&t.b>e?{ok:!1,waitMs:t.b-e}:(t.t=t.t.filter(l=>e-l<=12e5),t.t.length>=5?(t.b=e+12e5,S(t),{ok:!1,waitMs:12e5}):(n&&(t.t.push(e),t.t.length>=5&&(t.b=e+12e5),S(t)),{ok:!0,remaining:Math.max(0,5-t.t.length)}))},L=function(n,e=""){if(!e)return;const t=e==="file"?(window==null?void 0:window.ufile)||"":(window==null?void 0:window.ufileMus)||"";if(!t)return;const l=M(!1);if(!l.ok){alert(`Has alcanzado el límite de descargas.
Vuelve a intentarlo en ${_(l.waitMs)}.`);return}const h=n.getAttribute("data-title"),s=document.createElement("a");s.href=atob(t),s.download=h.length>0?h:"Download file",document.body.appendChild(s),s.click(),document.body.removeChild(s),M(!0)};window.handleDownloadClick=L;const A=document.querySelector("#pdf-viewer");if(A){const n=(window==null?void 0:window.ufile)||"";n&&y(n,A)}
